Don't change href of existing <use> if it is not in a <clipPath>.

===

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <defs>
    <use id="b" href="#a"/>
  </defs>
  <path d="M20 20l25 1v35 -1z" fill="green" transform="translate(-20 -20)"/>
  <path d="M20 20l25 1v35 -1z" fill="red" transform="translate(-20 20)"/>
  <path d="M20 20l25 1v35 -1z" fill="blue" transform="translate(40 20)"/>
  <g transform="translate(40 -20)">
    <path id="a" d="M20 20l25 1v35 -1z" fill="orange"/>
  </g>
  <use href="#b"/>
</svg>

@@@

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <defs>
    <use id="b" href="#a"/>
    <path id="c" d="M20 20l25 1v35 -1z"/>
  </defs>
  <use fill="green" transform="translate(-20 -20)" href="#c"/>
  <use fill="red" transform="translate(-20 20)" href="#c"/>
  <use fill="blue" transform="translate(40 20)" href="#c"/>
  <g transform="translate(40 -20)">
    <use id="a" fill="orange" href="#c"/>
  </g>
  <use href="#b"/>
</svg>
